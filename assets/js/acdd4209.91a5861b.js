"use strict";(self.webpackChunkshixu=self.webpackChunkshixu||[]).push([[777],{3905:function(e,a,n){n.d(a,{Zo:function(){return p},kt:function(){return g}});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var m=t.createContext({}),s=function(e){var a=t.useContext(m),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},p=function(e){var a=s(e.components);return t.createElement(m.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},d=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,o=e.originalType,m=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=s(n),g=r,c=d["".concat(m,".").concat(g)]||d[g]||u[g]||o;return n?t.createElement(c,i(i({ref:a},p),{},{components:n})):t.createElement(c,i({ref:a},p))}));function g(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var m in a)hasOwnProperty.call(a,m)&&(l[m]=a[m]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7559:function(e,a,n){n.r(a),n.d(a,{frontMatter:function(){return l},contentTitle:function(){return m},metadata:function(){return s},assets:function(){return p},toc:function(){return u},default:function(){return g}});var t=n(7462),r=n(3366),o=(n(7294),n(3905)),i=["components"],l={slug:"Mvnd vs Maven",title:"Mvnd vs Maven",author:"Shixu",author_title:"Owner",author_image_url:"https://avatars.githubusercontent.com/u/25247325",tags:["maven","java"]},m=void 0,s={permalink:"/Mvnd vs Maven",editUrl:"https://github.com/NoSugarCoffee/NoSugarCoffee.github.io/edit/master/blog/Mvnd.md",source:"@site/blog/Mvnd.md",title:"Mvnd vs Maven",description:"Head Metadata customized title!",date:"2022-01-15T08:15:49.757Z",formattedDate:"January 15, 2022",tags:[{label:"maven",permalink:"/tags/maven"},{label:"java",permalink:"/tags/java"}],readingTime:8.13,truncated:!1,authors:[{name:"Shixu",title:"Owner",imageURL:"https://avatars.githubusercontent.com/u/25247325"}],prevItem:{title:"Maven Summary",permalink:"/Maven Summary"}},p={authorsImageUrls:[void 0]},u=[{value:"\u4ecb\u7ecd",id:"\u4ecb\u7ecd",children:[]},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",children:[{value:"\u5b89\u88c5",id:"\u5b89\u88c5",children:[]},{value:"\u89c2\u5bdf",id:"\u89c2\u5bdf",children:[]}]},{value:"\u5b9e\u4f8b\u6d4b\u8bd5",id:"\u5b9e\u4f8b\u6d4b\u8bd5",children:[{value:"\u4e8b\u5148\u8bf4\u660e",id:"\u4e8b\u5148\u8bf4\u660e",children:[]},{value:"Jacoco | 20 + modules",id:"jacoco--20--modules",children:[]},{value:"Sonar-java | 10 ~ modules",id:"sonar-java--10--modules",children:[]}]},{value:"\u7ed3\u8bba\u53ca\u5206\u6790",id:"\u7ed3\u8bba\u53ca\u5206\u6790",children:[{value:"C/S \u548c smart builder \u662f\u5176\u5feb\u7684\u539f\u56e0",id:"cs-\u548c-smart-builder-\u662f\u5176\u5feb\u7684\u539f\u56e0",children:[]},{value:"Mvnd \u9002\u5408\u672c\u5730\u6784\u5efa\uff0cCI \u6709\u4e00\u5b9a\u6f5c\u529b",id:"mvnd-\u9002\u5408\u672c\u5730\u6784\u5efaci-\u6709\u4e00\u5b9a\u6f5c\u529b",children:[]},{value:"\u5e76\u884c\u6784\u5efa\u4e0d\u80fd\u65e0\u8111\u4f7f\u7528",id:"\u5e76\u884c\u6784\u5efa\u4e0d\u80fd\u65e0\u8111\u4f7f\u7528",children:[]}]},{value:"\u53c2\u8003",id:"\u53c2\u8003",children:[]}],d={toc:u};function g(e){var a=e.components,l=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,t.Z)({},d,l,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("head",null,(0,o.kt)("title",null,"Head Metadata customized title!"),(0,o.kt)("meta",{charSet:"utf-8"}),(0,o.kt)("meta",{name:"mvnd",content:"mvnd, maven"})),(0,o.kt)("h2",{id:"\u4ecb\u7ecd"},"\u4ecb\u7ecd"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/apache/maven-mvnd"},"Mvnd")," \u662f\u4e00\u4e2a\u81f4\u529b\u4e8e\u63d0\u5347 maven \u6784\u5efa\u901f\u5ea6\u7684\u9879\u76ee\u3002\u5b83\u4e0d\u662f\u4e00\u4e2a\u5168\u65b0\u7684\u4ea7\u7269\uff0c\u800c\u662f\u5185\u7f6e maven\uff0c\u5e76\u4e14\u6574\u5408 Gradle \u548c Takari \u4e2d\u7684\u4f18\u52bf\u6280\u672f\u3002\u90a3\u4e48\u5b83\u501f\u9274\u4e86\u4ec0\u4e48\uff1f\u5bf9\u6bd4 maven \u4f18\u52bf\u662f\u5426\u660e\u663e\uff1f\u9002\u5408\u4f7f\u7528\u5728\u54ea\u4e9b\u573a\u666f\uff1f\u672c\u6587\u5e26\u4f60\u4e00\u63a2\u7a76\u7adf\u3002"),(0,o.kt)("h2",{id:"\u57fa\u672c\u4f7f\u7528"},"\u57fa\u672c\u4f7f\u7528"),(0,o.kt)("h3",{id:"\u5b89\u88c5"},"\u5b89\u88c5"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/apache/maven-mvnd/tree/0.7.1"},"Mvnd 0.7.1")," \u8fd0\u884c\u4f9d\u8d56 jdk 11, \u5982\u4e0d\u6ee1\u8db3\u6709\u4ee5\u4e0b\u63d0\u793a:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"org/mvndaemon/mvnd/client/DefaultClient has been compiled by a more recent version of the Java Runtime (class file version 55.0)\n")),(0,o.kt)("p",null,"\u63a8\u8350\u4f7f\u7528 ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/shyiko/jabba"},"jabba"),"\u6216 ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/asdf-vm/asdf"},"asdf")," \u7ba1\u7406 java \u591a\u7248\u672c\u3002"),(0,o.kt)("h3",{id:"\u89c2\u5bdf"},"\u89c2\u5bdf"),(0,o.kt)("p",null,"\u6267\u884c ",(0,o.kt)("inlineCode",{parentName:"p"},"mvnd")," \u547d\u4ee4\u5373\u53ef\u89c2\u5bdf\u5230\u542f\u52a8\u4e86 daemon \u8fdb\u7a0b\uff0c\u540c\u65f6\u8be5\u547d\u4ee4\u4e5f\u5145\u5f53 client \u4e0e daemon service \u4ea4\u4e92\u3002"),(0,o.kt)("p",null,"\u6267\u884c ",(0,o.kt)("inlineCode",{parentName:"p"},"mvnd --status")," \u67e5\u770b daemon \u72b6\u6001\uff0c\u5982\u4e0b\u5c55\u793a\u7684\u662f\u4e00\u4e2a\u7a7a\u95f2\u72b6\u6001\u7684 daemon:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"liangliangdai@liangliangdai-VirtualBox:~/jacoco$ /home/liangliangdai/Downloads/mvnd-0.7.1-linux-amd64/bin/mvnd --status\n      ID      PID                   Address   Status    RSS            Last activity  Java home                                                                                                                               \n88a359ee    69068     inet:/127.0.0.1:36633     Idle   132m  2021-12-30T12:20:43.405  /home/liangliangdai/.jabba/jdk/openjdk@1.11.0\n")),(0,o.kt)("p",null,"\u6267\u884c ",(0,o.kt)("inlineCode",{parentName:"p"},"mvnd --stop")," \u505c\u6b62 daemon\u3002"),(0,o.kt)("h2",{id:"\u5b9e\u4f8b\u6d4b\u8bd5"},"\u5b9e\u4f8b\u6d4b\u8bd5"),(0,o.kt)("h3",{id:"\u4e8b\u5148\u8bf4\u660e"},"\u4e8b\u5148\u8bf4\u660e"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u5747\u57fa\u4e8e 4 core linux \u865a\u62df\u673a"),(0,o.kt)("li",{parentName:"ul"},"\u5747\u8bbe\u7f6e Jvm args ",(0,o.kt)("inlineCode",{parentName:"li"},"-Xms128M")," ",(0,o.kt)("inlineCode",{parentName:"li"},"Xmx2048M")),(0,o.kt)("li",{parentName:"ul"},"Mvnd \u9ed8\u8ba4\u5f00\u542f\u5e76\u884c\u6784\u5efa\uff0c\u7ebf\u7a0b\u6570\u91cf\u4e3a ",(0,o.kt)("inlineCode",{parentName:"li"},"Math.max(Runtime.getRuntime().availableProcessors() - 1, 1)"),"\uff0c\u4e3a\u4e86\u4fdd\u6301\u4e00\u81f4\uff0c\u5e76\u884c\u53c2\u6570\u7edf\u4e00\u8bbe\u7f6e ",(0,o.kt)("inlineCode",{parentName:"li"},"-T 4"),"\uff0c",(0,o.kt)("inlineCode",{parentName:"li"},"-T 4")," \u8868\u793a\u5f00\u542f\u5e76\u884c\u6784\u5efa\u7684\u7ebf\u7a0b\u6570\u4e3a 4 \u4e2a")),(0,o.kt)("h3",{id:"jacoco--20--modules"},(0,o.kt)("a",{parentName:"h3",href:"https://github.com/jacoco/jacoco/tree/v0.8.6"},"Jacoco")," | 20 + modules"),(0,o.kt)("details",null,(0,o.kt)("summary",null," ",(0,o.kt)("code",null,"mvn clean verify")," \u6784\u5efa\u6210\u529f "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"[INFO] Reactor Summary for root 0.8.6:\n[INFO] \n[INFO] JaCoCo ............................................. SUCCESS [  2.454 s]\n[INFO] JaCoCo :: Core ..................................... SUCCESS [ 10.961 s]\n[INFO] JaCoCo :: Report ................................... SUCCESS [  5.012 s]\n[INFO] JaCoCo :: Agent RT ................................. SUCCESS [  2.425 s]\n[INFO] JaCoCo :: Agent .................................... SUCCESS [  3.108 s]\n[INFO] JaCoCo :: Ant ...................................... SUCCESS [  3.423 s]\n[INFO] JaCoCo :: Command Line Interface ................... SUCCESS [  3.536 s]\n[INFO] JaCoCo :: Examples ................................. SUCCESS [  3.183 s]\n[INFO] JaCoCo :: Maven Plugin ............................. SUCCESS [  6.747 s]\n[INFO] JaCoCo :: Tests .................................... SUCCESS [  0.192 s]\n[INFO] JaCoCo :: Test :: Core ............................. SUCCESS [  6.984 s]\n[INFO] JaCoCo :: Test :: Core :: Validation ............... SUCCESS [  0.049 s]\n[INFO] JaCoCo :: Test :: Core :: Validation Java 5 ........ SUCCESS [  3.031 s]\n[INFO] JaCoCo :: Test :: Core :: Validation Kotlin ........ SUCCESS [ 11.635 s]\n[INFO] JaCoCo :: Test :: Core :: Validation Java 7 ........ SUCCESS [  2.744 s]\n[INFO] JaCoCo :: Test :: Core :: Validation Java 8 ........ SUCCESS [  2.680 s]\n[INFO] JaCoCo :: Test :: Core :: Validation Groovy ........ SUCCESS [  4.787 s]\n[INFO] JaCoCo :: Test :: Core :: Validation Scala ......... SUCCESS [ 10.767 s]\n[INFO] JaCoCo :: Test :: Report ........................... SUCCESS [  5.021 s]\n[INFO] JaCoCo :: Test :: Agent RT ......................... SUCCESS [  3.188 s]\n[INFO] JaCoCo :: Test :: Agent ............................ SUCCESS [  2.288 s]\n[INFO] JaCoCo :: Test :: Ant .............................. SUCCESS [  8.807 s]\n[INFO] JaCoCo :: Test :: Command Line Interface ........... SUCCESS [  4.286 s]\n[INFO] JaCoCo :: Test :: Examples ......................... SUCCESS [ 17.863 s]\n[INFO] JaCoCo :: Test :: Maven Plugin ..................... SUCCESS [01:59 min]\n[INFO] JaCoCo :: Documentation ............................ SUCCESS [ 11.561 s]\n[INFO] JaCoCo :: Distribution ............................. SUCCESS [  1.810 s]\n[INFO] root ............................................... SUCCESS [  0.034 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  04:18 min\n"))),(0,o.kt)("details",null,(0,o.kt)("summary",null," ",(0,o.kt)("code",null,"mvnd clean verify")," \u6784\u5efa\u51fa\u9519 "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.6.0:report (report) on project jacoco-maven-plugin: Execution report of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.0:report failed: A required class was missing while executing org.apache.maven.plugins:maven-plugin-plugin:3.6.0:report: org/jacoco/report/check/IViolationsOutput\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin>org.apache.maven.plugins:maven-plugin-plugin:3.6.0\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/home/liangliangdai/.m2/repository/org/apache/maven/plugins/maven-plugin-plugin/3.6.0/maven-plugin-plugin-3.6.0.jar\n[ERROR] urls[1] = file:/home/liangliangdai/.m2/repository/org/ow2/asm/asm/7.1/asm-7.1.jar\n[ERROR] urls[2] = file:/home/liangliangdai/.m2/repository/org/sonatype/aether/aether-util/1.7/aether-util-1.7.jar\n[ERROR] urls[3] = file:/home/liangliangdai/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar\n[ERROR] urls[4] = file:/home/liangliangdai/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar\n[ERROR] urls[5] = file:/home/liangliangdai/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.14/plexus-interpolation-1.14.jar\n[ERROR] urls[6] = file:/home/liangliangdai/.m2/repository/org/sonatype/sisu/sisu-inject-bean/1.4.2/sisu-inject-bean-1.4.2.jar\n[ERROR] urls[7] = file:/home/liangliangdai/.m2/repository/org/sonatype/sisu/sisu-guice/2.1.7/sisu-guice-2.1.7-noaop.jar\n[ERROR] urls[8] = file:/home/liangliangdai/.m2/repository/org/codehaus/plexus/plexus-component-annotations/1.5.5/plexus-component-annotations-1.5.5.jar\n[ERROR] urls[9] = file:/home/liangliangdai/.m2/repository/org/apache/maven/plugin-tools/maven-plugin-tools-api/3.6.0/maven-plugin-tools-api-3.6.0.jar\n[ERROR] urls[10] = file:/home/liangliangdai/.m2/repository/org/apache/maven/plugin-tools/maven-plugin-tools-generators/3.6.0/maven-plugin-tools-generators-3.6.0.jar\n[ERROR] urls[11] = file:/home/liangliangdai/.m2/repository/org/ow2/asm/asm-commons/7.0/asm-commons-7.0.jar\n[ERROR] urls[12] = file:/home/liangliangdai/.m2/repository/org/ow2/asm/asm-tree/7.0/asm-tree-7.0.jar\n[ERROR] urls[13] = file:/home/liangliangdai/.m2/repository/org/ow2/asm/asm-analysis/7.0/asm-analysis-7.0.jar\n[ERROR] urls[14] = file:/home/liangliangdai/.m2/repository/net/sf/jtidy/jtidy/r938/jtidy-r938.jar\n[ERROR] urls[15] = file:/home/liangliangdai/.m2/repository/org/apache/maven/plugin-tools/maven-plugin-tools-java/3.6.0/maven-plugin-tools-java-3.6.0.jar\n[ERROR] urls[16] = file:/home/liangliangdai/.m2/repository/com/thoughtworks/qdox/qdox/2.0-M5/qdox-2.0-M5.jar\n[ERROR] urls[17] = file:/home/liangliangdai/.m2/repository/org/apache/maven/plugin-tools/maven-plugin-tools-annotations/3.6.0/maven-plugin-tools-annotations-3.6.0.jar\n[ERROR] urls[18] = file:/home/liangliangdai/.m2/repository/org/codehaus/plexus/plexus-archiver/3.6.0/plexus-archiver-3.6.0.jar\n[ERROR] urls[19] = file:/home/liangliangdai/.m2/repository/org/codehaus/plexus/plexus-io/3.0.1/plexus-io-3.0.1.jar\n[ERROR] urls[20] = file:/home/liangliangdai/.m2/repository/commons-io/commons-io/2.6/commons-io-2.6.jar\n[ERROR] urls[21] = file:/home/liangliangdai/.m2/repository/org/apache/commons/commons-compress/1.16.1/commons-compress-1.16.1.jar\n[ERROR] urls[22] = file:/home/liangliangdai/.m2/repository/org/objenesis/objenesis/2.6/objenesis-2.6.jar\n[ERROR] urls[23] = file:/home/liangliangdai/.m2/repository/org/iq80/snappy/snappy/0.4/snappy-0.4.jar\n[ERROR] urls[24] = file:/home/liangliangdai/.m2/repository/org/tukaani/xz/1.8/xz-1.8.jar\n[ERROR] urls[25] = file:/home/liangliangdai/.m2/repository/org/apache/maven/plugin-tools/maven-plugin-annotations/3.6.0/maven-plugin-annotations-3.6.0.jar\n[ERROR] urls[26] = file:/home/liangliangdai/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.4/doxia-sink-api-1.4.jar\n[ERROR] urls[27] = file:/home/liangliangdai/.m2/repository/org/apache/maven/doxia/doxia-logging-api/1.4/doxia-logging-api-1.4.jar\n[ERROR] urls[28] = file:/home/liangliangdai/.m2/repository/org/apache/maven/doxia/doxia-site-renderer/1.4/doxia-site-renderer-1.4.jar\n[ERROR] urls[29] = file:/home/liangliangdai/.m2/repository/org/apache/maven/doxia/doxia-core/1.4/doxia-core-1.4.jar\n[ERROR] urls[30] = file:/home/liangliangdai/.m2/repository/xerces/xercesImpl/2.9.1/xercesImpl-2.9.1.jar\n[ERROR] urls[31] = file:/home/liangliangdai/.m2/repository/xml-apis/xml-apis/1.3.04/xml-apis-1.3.04.jar\n[ERROR] urls[32] = file:/home/liangliangdai/.m2/repository/org/apache/httpcomponents/httpclient/4.0.2/httpclient-4.0.2.jar\n[ERROR] urls[33] = file:/home/liangliangdai/.m2/repository/commons-codec/commons-codec/1.3/commons-codec-1.3.jar\n[ERROR] urls[34] = file:/home/liangliangdai/.m2/repository/org/apache/httpcomponents/httpcore/4.0.1/httpcore-4.0.1.jar\n[ERROR] urls[35] = file:/home/liangliangdai/.m2/repository/org/apache/maven/doxia/doxia-decoration-model/1.4/doxia-decoration-model-1.4.jar\n[ERROR] urls[36] = file:/home/liangliangdai/.m2/repository/org/apache/maven/doxia/doxia-module-xhtml/1.4/doxia-module-xhtml-1.4.jar\n[ERROR] urls[37] = file:/home/liangliangdai/.m2/repository/org/apache/maven/doxia/doxia-module-fml/1.4/doxia-module-fml-1.4.jar\n[ERROR] urls[38] = file:/home/liangliangdai/.m2/repository/org/codehaus/plexus/plexus-i18n/1.0-beta-7/plexus-i18n-1.0-beta-7.jar\n[ERROR] urls[39] = file:/home/liangliangdai/.m2/repository/org/apache/velocity/velocity-tools/2.0/velocity-tools-2.0.jar\n[ERROR] urls[40] = file:/home/liangliangdai/.m2/repository/commons-beanutils/commons-beanutils/1.7.0/commons-beanutils-1.7.0.jar\n[ERROR] urls[41] = file:/home/liangliangdai/.m2/repository/commons-digester/commons-digester/1.8/commons-digester-1.8.jar\n[ERROR] urls[42] = file:/home/liangliangdai/.m2/repository/commons-chain/commons-chain/1.1/commons-chain-1.1.jar\n[ERROR] urls[43] = file:/home/liangliangdai/.m2/repository/commons-logging/commons-logging/1.1/commons-logging-1.1.jar\n[ERROR] urls[44] = file:/home/liangliangdai/.m2/repository/javax/servlet/servlet-api/2.3/servlet-api-2.3.jar\n[ERROR] urls[45] = file:/home/liangliangdai/.m2/repository/dom4j/dom4j/1.1/dom4j-1.1.jar\n[ERROR] urls[46] = file:/home/liangliangdai/.m2/repository/oro/oro/2.0.8/oro-2.0.8.jar\n[ERROR] urls[47] = file:/home/liangliangdai/.m2/repository/sslext/sslext/1.2-0/sslext-1.2-0.jar\n[ERROR] urls[48] = file:/home/liangliangdai/.m2/repository/org/apache/struts/struts-core/1.3.8/struts-core-1.3.8.jar\n[ERROR] urls[49] = file:/home/liangliangdai/.m2/repository/antlr/antlr/2.7.2/antlr-2.7.2.jar\n[ERROR] urls[50] = file:/home/liangliangdai/.m2/repository/org/apache/struts/struts-taglib/1.3.8/struts-taglib-1.3.8.jar\n[ERROR] urls[51] = file:/home/liangliangdai/.m2/repository/org/apache/struts/struts-tiles/1.3.8/struts-tiles-1.3.8.jar\n[ERROR] urls[52] = file:/home/liangliangdai/.m2/repository/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar\n[ERROR] urls[53] = file:/home/liangliangdai/.m2/repository/org/apache/maven/reporting/maven-reporting-impl/2.3/maven-reporting-impl-2.3.jar\n[ERROR] urls[54] = file:/home/liangliangdai/.m2/repository/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.jar\n[ERROR] urls[55] = file:/home/liangliangdai/.m2/repository/org/apache/maven/shared/maven-shared-utils/0.6/maven-shared-utils-0.6.jar\n[ERROR] urls[56] = file:/home/liangliangdai/.m2/repository/com/google/code/findbugs/jsr305/2.0.1/jsr305-2.0.1.jar\n[ERROR] urls[57] = file:/home/liangliangdai/.m2/repository/commons-validator/commons-validator/1.3.1/commons-validator-1.3.1.jar\n[ERROR] urls[58] = file:/home/liangliangdai/.m2/repository/org/apache/maven/reporting/maven-reporting-api/3.0/maven-reporting-api-3.0.jar\n[ERROR] urls[59] = file:/home/liangliangdai/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.20/plexus-utils-3.0.20.jar\n[ERROR] urls[60] = file:/home/liangliangdai/.m2/repository/org/codehaus/plexus/plexus-velocity/1.1.8/plexus-velocity-1.1.8.jar\n[ERROR] urls[61] = file:/home/liangliangdai/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\n[ERROR] urls[62] = file:/home/liangliangdai/.m2/repository/org/apache/maven/surefire/maven-surefire-common/2.19.1/maven-surefire-common-2.19.1.jar\n[ERROR] urls[63] = file:/home/liangliangdai/.m2/repository/org/apache/maven/surefire/surefire-api/2.19.1/surefire-api-2.19.1.jar\n[ERROR] urls[64] = file:/home/liangliangdai/.m2/repository/org/apache/maven/surefire/surefire-booter/2.19.1/surefire-booter-2.19.1.jar\n[ERROR] urls[65] = file:/home/liangliangdai/.m2/repository/org/apache/commons/commons-lang3/3.1/commons-lang3-3.1.jar\n[ERROR] urls[66] = file:/home/liangliangdai/.m2/repository/org/apache/velocity/velocity/1.7/velocity-1.7.jar\n[ERROR] urls[67] = file:/home/liangliangdai/.m2/repository/commons-lang/commons-lang/2.4/commons-lang-2.4.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR] \n[ERROR] -----------------------------------------------------\n[ERROR] : org.jacoco.report.check.IViolationsOutput\n[ERROR] -> [Help 1]\n"))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u5e76\u884c\u6784\u5efa\u53ef\u80fd\u5bfc\u81f4\u5931\u8d25\u3002")),(0,o.kt)("h3",{id:"sonar-java--10--modules"},(0,o.kt)("a",{parentName:"h3",href:"https://github.com/SonarSource/sonar-java/tree/6.7.0.23054"},"Sonar-java")," | 10 ~ modules"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"mvn-single"),": maven3 - single thread build - ",(0,o.kt)("inlineCode",{parentName:"strong"},"mvn clean verify"))),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"\u6b21\u6570"),(0,o.kt)("th",{parentName:"tr",align:null},"\u65f6\u95f4"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"1"),(0,o.kt)("td",{parentName:"tr",align:null},"02:27 min")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"2"),(0,o.kt)("td",{parentName:"tr",align:null},"02:28 min")))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"mvn-multi"),": maven3 - multi thread build - ",(0,o.kt)("inlineCode",{parentName:"strong"},"mvn clean verify -T 4"))),(0,o.kt)("p",null,"Maven3 \u7684 ",(0,o.kt)("a",{parentName:"p",href:"https://cwiki.apache.org/confluence/display/MAVEN/Parallel+builds+in+Maven+3"},"\u5e76\u884c\u6784\u5efa"),"\u3002"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"\u6b21\u6570"),(0,o.kt)("th",{parentName:"tr",align:null},"\u65f6\u95f4"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"1"),(0,o.kt)("td",{parentName:"tr",align:null},"02:18 min")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"2"),(0,o.kt)("td",{parentName:"tr",align:null},"02:23 min")))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"mvnd-multi-cold"),': mvnd - multi thread build - "cold" daemon - ',(0,o.kt)("inlineCode",{parentName:"strong"},"mvnd clean verify -T 4"))),(0,o.kt)("p",null,'"cold" daemon \u662f\u6307\u4f7f\u7528 ',(0,o.kt)("inlineCode",{parentName:"p"},"mvnd --stop")," \u505c\u6b62 daemon \u540e\u8fdb\u884c\u6784\u5efa\u3002"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"\u6b21\u6570"),(0,o.kt)("th",{parentName:"tr",align:null},"\u65f6\u95f4"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"1"),(0,o.kt)("td",{parentName:"tr",align:null},"02:13 min")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"2"),(0,o.kt)("td",{parentName:"tr",align:null},"02:08 min")))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"mvnd-multi-hot"),': mvnd - multi thread build - "hot" daemon - ',(0,o.kt)("inlineCode",{parentName:"strong"},"mvnd clean verify -T 4"))),(0,o.kt)("p",null,'"hot" daemon \u662f\u6307 daemon \u5df2\u7ecf\u6784\u5efa\u8fc7\u51e0\u6b21\u3002'),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"\u6b21\u6570"),(0,o.kt)("th",{parentName:"tr",align:null},"\u65f6\u95f4"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"1"),(0,o.kt)("td",{parentName:"tr",align:null},"01:56 min")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"2"),(0,o.kt)("td",{parentName:"tr",align:null},"01:51 min")))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u4ece ",(0,o.kt)("inlineCode",{parentName:"strong"},"mvnd-multi-hot")," \u4e0e ",(0,o.kt)("inlineCode",{parentName:"strong"},"mvn-single")," \u53ef\u5f97\u6700\u4f18\u60c5\u51b5\u4e0b mvnd \u5927\u7ea6\u53ef\u4ee5\u4e3a\u6b64\u9879\u76ee\u63d0\u9ad8 20% \u7684\u6784\u5efa\u901f\u5ea6\u3002")),(0,o.kt)("h2",{id:"\u7ed3\u8bba\u53ca\u5206\u6790"},"\u7ed3\u8bba\u53ca\u5206\u6790"),(0,o.kt)("h3",{id:"cs-\u548c-smart-builder-\u662f\u5176\u5feb\u7684\u539f\u56e0"},"C/S \u548c smart builder \u662f\u5176\u5feb\u7684\u539f\u56e0"),(0,o.kt)("p",null,"Mvnd \u501f\u9274 ",(0,o.kt)("a",{parentName:"p",href:"https://docs.gradle.org/current/userguide/gradle_daemon.html"},"Gradle daemon")," \u7684\u601d\u60f3\uff0c\u4f7f daemon \u5e38\u9a7b\u540e\u53f0\uff0c\u6784\u5efa\u8bf7\u6c42\u7531 ",(0,o.kt)("a",{parentName:"p",href:"https://www.graalvm.org/"},"GraalVM client")," \u8f6c\u53d1\uff0c\u5f97\u76ca\u4e8e classloader cache \u548c JIT \u7684\u7279\u6027, \u4e0b\u6b21\u6784\u5efa\u65e0\u9700\u91cd\u590d\u52a0\u8f7d\u5df2\u7f13\u5b58\u7684 plugin classes\uff0c\u540c\u65f6\u70ed\u70b9\u4ee3\u7801\u4fe1\u606f\u4e5f\u88ab\u8bb0\u5f55\uff0c\u66f4\u5feb\u751a\u81f3\u76f4\u63a5 JIT\u4e0d\u50cf maven \u6bcf\u6b21\u6784\u5efa\u90fd\u9700\u8981\u65b0\u5efa jvm\uff0c\u6545 C/S \u67b6\u6784\u662f mvnd \u6784\u5efa\u5feb\u7684\u5173\u952e\u56e0\u7d20\u4e4b\u4e00\u3002"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("inlineCode",{parentName:"p"},"mvnd-multi-hot")," \u4f18\u4e8e ",(0,o.kt)("inlineCode",{parentName:"p"},"mvnd-multi-cold")," \u7684\u7ed3\u679c\uff0c\u5f88\u597d\u7684\u4f53\u73b0\u4e86 daemon \u7684\u4f18\u52bf\u3002")),(0,o.kt)("p",null,"Mvnd \u501f\u9274 ",(0,o.kt)("a",{parentName:"p",href:"http://takari.io/book/30-team-maven.html#takari-smart-builder"},"Takari smart builder")," \u7684\u6280\u672f\uff0c\u76f8\u6bd4\u4e0e maven3 \u5e76\u884c\u6784\u5efa\u6a21\u578b\u66f4\u4f18\u3002\u6b64\u4e3a mvnd \u6784\u5efa\u5feb\u7684\u53e6\u4e00\u5173\u952e\u56e0\u7d20\u3002\u4e0b\u56fe\u5c55\u793a\u4e86 maven 3 \u548c mvnd \u5e76\u884c\u6784\u5efa\u6a21\u578b\u7684\u533a\u522b\uff1a\n",(0,o.kt)("img",{alt:"smartbuilder.png",src:n(2385).Z})),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("inlineCode",{parentName:"p"},"mvnd-multi-cold"),"\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"mvn-multi"),'  \u53cc\u65b9\u90fd\u662f\u5e76\u884c\u6784\u5efa\u4e14\u4ece "cold" \u542f\u52a8\uff0cmvnd \u7565\u4f18\uff0c\u6545\u4f18\u52bf\u5f88\u53ef\u80fd\u6765\u81ea smart build\uff0c\u5f53\u7136\u6837\u672c\u6570\u592a\u5c11\uff0c\u4e0d\u8db3\u4ee5\u4e0b\u5b9a\u8bba\uff0c\u8bfb\u8005\u53ef\u81ea\u884c\u6d4b\u8bd5\u3002')),(0,o.kt)("h3",{id:"mvnd-\u9002\u5408\u672c\u5730\u6784\u5efaci-\u6709\u4e00\u5b9a\u6f5c\u529b"},"Mvnd \u9002\u5408\u672c\u5730\u6784\u5efa\uff0cCI \u6709\u4e00\u5b9a\u6f5c\u529b"),(0,o.kt)("p",null,"\u5f53\u4eca\u4e3b\u6d41\u7684 CI \u5927\u591a\u57fa\u4e8e\u5bb9\u5668\uff0c\u76ee\u524d mvnd daemon \u53ea\u652f\u6301\u6765\u81ea\u672c\u673a client \u7684\u6784\u5efa\u8bf7\u6c42\uff0c\u5373\u5404\u4e2a job \u6240\u5c5e\u7684\u5bb9\u5668\u53ea\u80fd\u5229\u7528\u81ea\u8eab\u542f\u52a8\u7684 daemon, \u5047\u5982\u5bb9\u5668\u5185\u53ea\u8fdb\u884c\u5355\u6b21\u6784\u5efa\u7684\u8bdd\u90a3\u5c31\u6ca1\u90a3\u4e48\u5927\u4f18\u52bf\u4e86\uff0c\u800c\u672c\u5730\u6784\u5efa\u65e0\u6b64\u9650\u5236\uff0c\u793e\u533a\u6709\u7c7b\u4f3c\u7684 ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/apache/maven-mvnd/issues/496"},"\u8ba8\u8bba"),"\u3002"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"mvnd is primarily designed for iterative development on a developer workstation. I think it is worth trying as a drop-in replacement of stock Maven. In case of issues, the users are invited to report them in the project. I see little potential for mvnd in the area of continuous integration (CI). ",(0,o.kt)("br",null)," \u6765\u6e90: ",(0,o.kt)("a",{parentName:"p",href:"https://www.infoq.com/news/2020/12/mvnd-mavens-speed-daemon/"},"Conversation with Peter Palaga and Guillaume Nodet "))),(0,o.kt)("h3",{id:"\u5e76\u884c\u6784\u5efa\u4e0d\u80fd\u65e0\u8111\u4f7f\u7528"},"\u5e76\u884c\u6784\u5efa\u4e0d\u80fd\u65e0\u8111\u4f7f\u7528"),(0,o.kt)("p",null,"\u8bf7\u81ea\u884c\u9605\u8bfb ",(0,o.kt)("a",{parentName:"p",href:"https://peter.palaga.org/2021/01/12/mvnd-solving-common-issues-of-parallel-builds.html"},"\u5e76\u884c\u6784\u5efa\u53ef\u80fd\u5e26\u6765\u7684\u95ee\u9898")," \u4ee5\u53ca\u4f5c\u8005\u5411\u793e\u533a\u53cd\u9988\u7684 ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/apache/maven-mvnd/issues/558"},"\u95ee\u9898"),"\u3002"),(0,o.kt)("h2",{id:"\u53c2\u8003"},"\u53c2\u8003"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://gradle.org/gradle-vs-maven-performance/"},"gradle-vs-maven-performance")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.infoq.com/news/2020/12/mvnd-mavens-speed-daemon/"},"mvnd-mavens-speed-daemon")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://peter.palaga.org/2021/01/11/mvnd-parallel-builds.html#smart_builder_by_default"},"mvnd-parallel-builds.html"))))}g.isMDXComponent=!0},2385:function(e,a,n){a.Z=n.p+"assets/images/smartbuilder-8d3948ae34a3abdffc9e3fa79830731c.png"}}]);